<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annalise's Eagle Scout Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans', sans-serif;
            background: linear-gradient(135deg, #077840 0%, #054d29 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #077840;
        }
        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        .photo-section { text-align: center; }
        .profile-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 4px solid #077840;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .profile-photo:hover { transform: scale(1.05); }
        .profile-photo img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        .upload-photo-btn {
            margin-top: 10px;
            padding: 8px 16px;
            background: #077840;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Noto Sans', sans-serif;
        }
        .upload-photo-btn:hover { background: #065a32; }
        #photo-input { display: none; }
        h1 { color: #333; margin-bottom: 10px; font-weight: 700; }
        .nav-link {
            display: inline-block;
            margin-top: 10px;
            color: #077840;
            text-decoration: none;
            font-weight: 600;
        }
        .nav-link:hover { text-decoration: underline; }
        .age-tracker {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .age-input {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .age-input label { font-weight: 600; color: #333; }
        .age-input input {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            font-family: 'Noto Sans', sans-serif;
        }
        .age-input button {
            padding: 8px 20px;
            background: #077840;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-family: 'Noto Sans', sans-serif;
            font-weight: 600;
        }
        .age-input button:hover { background: #065a32; }
        .countdown {
            font-size: 1.5em;
            color: #077840;
            font-weight: 700;
            text-align: center;
            margin-top: 15px;
        }
        .progress-section { margin-bottom: 30px; }
        .progress-header {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .progress-bar-container {
            width: 100%;
            height: 40px;
            background: #e0e0e0;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #077840 0%, #054d29 100%);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }
        .requirements-section { margin-bottom: 30px; }
        .requirement-category {
            margin-bottom: 25px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        .category-header {
            background: #077840;
            color: white;
            padding: 15px;
            font-size: 1.2em;
            font-weight: 700;
        }
        .requirement-item {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        .requirement-item:last-child { border-bottom: none; }
        .requirement-item input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            margin-top: 2px;
            accent-color: #077840;
        }
        .requirement-content { flex: 1; }
        .requirement-name {
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }
        .requirement-description {
            color: #666;
            font-size: 0.9em;
        }
        .time-tracking {
            margin-top: 10px;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 5px;
        }
        .time-tracking input[type="date"],
        .time-tracking input[type="number"] {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
            font-family: 'Noto Sans', sans-serif;
        }
        .calculated-date {
            margin-top: 5px;
            color: #077840;
            font-weight: 700;
        }
        .merit-badge-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 10px;
            margin-top: 15px;
            max-height: 500px;
            overflow-y: auto;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        .merit-badge-card {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background: white;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .merit-badge-card:hover {
            border-color: #077840;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .merit-badge-card.completed {
            border-color: #077840;
            background: #e8f5e9;
        }
        .merit-badge-card label {
            font-weight: 600;
            cursor: pointer;
            flex: 1;
            font-size: 0.9em;
        }
        .search-box {
            margin-bottom: 15px;
            padding: 12px;
            border: 2px solid #077840;
            border-radius: 5px;
            font-size: 16px;
            font-family: 'Noto Sans', sans-serif;
            width: 100%;
        }
        .badge-counter {
            margin-top: 10px;
            padding: 12px;
            background: #e8f5e9;
            border-radius: 5px;
            text-align: center;
            font-weight: 700;
            color: #077840;
        }
        @media (max-width: 768px) {
            .age-input { flex-direction: column; align-items: flex-start; }
            .merit-badge-grid { grid-template-columns: 1fr; }
            .header-content { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="photo-section">
                    <div class="profile-photo" id="profile-photo" onclick="document.getElementById('photo-input').click()">
                        üëß
                    </div>
                    <input type="file" id="photo-input" accept="image/*" onchange="loadPhoto(event)">
                    <button class="upload-photo-btn" onclick="document.getElementById('photo-input').click()">
                        üì∑ Upload Photo
                    </button>
                </div>
                <div>
                    <h1>ü¶Ö Annalise's Eagle Scout Tracker</h1>
                    <a href="index.html" class="nav-link">‚Üê Back to Home</a>
                </div>
            </div>
        </div>

        <div class="age-tracker">
            <div class="age-input">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob">
                <button onclick="calculateAge()">Calculate</button>
                <button onclick="saveProgress()">üíæ Save</button>
                <button onclick="loadProgress()">üìÇ Load</button>
            </div>
            <div class="countdown" id="countdown">Enter date of birth to see countdown</div>
        </div>

        <div class="progress-section">
            <div class="progress-header">Overall Progress to Eagle Scout</div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="overall-progress" style="width: 0%">0%</div>
            </div>
        </div>

        <div class="requirements-section">
            <div class="requirement-category">
                <div class="category-header">Rank Requirements (6)</div>
                <div class="requirement-item">
                    <input type="checkbox" id="life-6months" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Life Scout for 6 Months</div>
                        <div class="requirement-description">Be active in your troop for at least 6 months as a Life Scout</div>
                        <div class="time-tracking">
                            <label>Life Scout Date: <input type="date" id="life-date" onchange="calculateLifeEnd()"></label>
                            <div class="calculated-date" id="life-end"></div>
                        </div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="scout-oath" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Scout Oath & Law</div>
                        <div class="requirement-description">Live by Scout Oath and Law, duty to God</div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="references" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">References</div>
                        <div class="requirement-description">List 4 individuals for recommendations</div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="service-project" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Eagle Service Project</div>
                        <div class="requirement-description">Plan, develop, and lead a service project</div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="scoutmaster-conf" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Scoutmaster Conference</div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="board-review" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Board of Review</div>
                    </div>
                </div>
            </div>

            <div class="requirement-category">
                <div class="category-header">Time-Based Required Merit Badges</div>
                <div class="requirement-item">
                    <input type="checkbox" id="mb-personal-fitness" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Personal Fitness (12 weeks)</div>
                        <div class="time-tracking">
                            <label>Start: <input type="date" id="pf-start" onchange="calculateEnd('pf', 84)"></label>
                            <div class="calculated-date" id="pf-end"></div>
                        </div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="mb-family-life" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Family Life (90 days)</div>
                        <div class="time-tracking">
                            <label>Start: <input type="date" id="fl-start" onchange="calculateEnd('fl', 90)"></label>
                            <div class="calculated-date" id="fl-end"></div>
                        </div>
                    </div>
                </div>
                <div class="requirement-item">
                    <input type="checkbox" id="mb-camping" onchange="updateProgress()">
                    <div class="requirement-content">
                        <div class="requirement-name">Camping (20 nights)</div>
                        <div class="time-tracking">
                            <label>Nights: <input type="number" id="camping-nights" min="0" max="20" value="0" onchange="updateProgress()"> / 20</label>
                            <div class="calculated-date" id="camping-progress"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="requirement-category">
                <div class="category-header">Other Required Merit Badges (11)</div>
                <div class="merit-badge-grid">
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-first-aid" onchange="updateProgress()">
                        <label for="mb-first-aid">First Aid</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-cit-comm" onchange="updateProgress()">
                        <label for="mb-cit-comm">Citizenship in Community</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-cit-nation" onchange="updateProgress()">
                        <label for="mb-cit-nation">Citizenship in Nation</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-cit-society" onchange="updateProgress()">
                        <label for="mb-cit-society">Citizenship in Society</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-cit-world" onchange="updateProgress()">
                        <label for="mb-cit-world">Citizenship in World</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-communication" onchange="updateProgress()">
                        <label for="mb-communication">Communication</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-cooking" onchange="updateProgress()">
                        <label for="mb-cooking">Cooking</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-emerg-life" onchange="updateProgress()">
                        <label for="mb-emerg-life">Emergency Prep OR Lifesaving</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-env-sust" onchange="updateProgress()">
                        <label for="mb-env-sust">Environmental Sci OR Sustainability</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-pers-mgmt" onchange="updateProgress()">
                        <label for="mb-pers-mgmt">Personal Management</label>
                    </div>
                    <div class="merit-badge-card">
                        <input type="checkbox" id="mb-swim-hike-cycle" onchange="updateProgress()">
                        <label for="mb-swim-hike-cycle">Swimming OR Hiking OR Cycling</label>
                    </div>
                </div>
            </div>

            <div class="requirement-category">
                <div class="category-header">Elective Merit Badges (Need 7 for 21 total)</div>
                <input type="text" id="search-box" class="search-box" placeholder="üîç Search merit badges..." onkeyup="filterBadges()">
                <div class="badge-counter" id="elective-counter">0 of 7 elective badges earned</div>
                <div class="merit-badge-grid" id="elective-grid">
                    <div class="merit-badge-card" data-badge="american business">
                        <input type="checkbox" id="elective-american-business" onchange="updateProgress()">
                        <label for="elective-american-business">American Business</label>
                    </div>
                    <div class="merit-badge-card" data-badge="american cultures">
                        <input type="checkbox" id="elective-american-cultures" onchange="updateProgress()">
                        <label for="elective-american-cultures">American Cultures</label>
                    </div>
                    <div class="merit-badge-card" data-badge="american heritage">
                        <input type="checkbox" id="elective-american-heritage" onchange="updateProgress()">
                        <label for="elective-american-heritage">American Heritage</label>
                    </div>
                    <div class="merit-badge-card" data-badge="american labor">
                        <input type="checkbox" id="elective-american-labor" onchange="updateProgress()">
                        <label for="elective-american-labor">American Labor</label>
                    </div>
                    <div class="merit-badge-card" data-badge="animal science">
                        <input type="checkbox" id="elective-animal-science" onchange="updateProgress()">
                        <label for="elective-animal-science">Animal Science</label>
                    </div>
                    <div class="merit-badge-card" data-badge="animation">
                        <input type="checkbox" id="elective-animation" onchange="updateProgress()">
                        <label for="elective-animation">Animation</label>
                    </div>
                    <div class="merit-badge-card" data-badge="archaeology">
                        <input type="checkbox" id="elective-archaeology" onchange="updateProgress()">
                        <label for="elective-archaeology">Archaeology</label>
                    </div>
                    <div class="merit-badge-card" data-badge="archery">
                        <input type="checkbox" id="elective-archery" onchange="updateProgress()">
                        <label for="elective-archery">Archery</label>
                    </div>
                    <div class="merit-badge-card" data-badge="architecture">
                        <input type="checkbox" id="elective-architecture" onchange="updateProgress()">
                        <label for="elective-architecture">Architecture</label>
                    </div>
                    <div class="merit-badge-card" data-badge="art">
                        <input type="checkbox" id="elective-art" onchange="updateProgress()">
                        <label for="elective-art">Art</label>
                    </div>
                    <div class="merit-badge-card" data-badge="astronomy">
                        <input type="checkbox" id="elective-astronomy" onchange="updateProgress()">
                        <label for="elective-astronomy">Astronomy</label>
                    </div>
                    <div class="merit-badge-card" data-badge="athletics">
                        <input type="checkbox" id="elective-athletics" onchange="updateProgress()">
                        <label for="elective-athletics">Athletics</label>
                    </div>
                    <div class="merit-badge-card" data-badge="automotive maintenance">
                        <input type="checkbox" id="elective-automotive-maintenance" onchange="updateProgress()">
                        <label for="elective-automotive-maintenance">Automotive Maintenance</label>
                    </div>
                    <div class="merit-badge-card" data-badge="aviation">
                        <input type="checkbox" id="elective-aviation" onchange="updateProgress()">
                        <label for="elective-aviation">Aviation</label>
                    </div>
                    <div class="merit-badge-card" data-badge="backpacking">
                        <input type="checkbox" id="elective-backpacking" onchange="updateProgress()">
                        <label for="elective-backpacking">Backpacking</label>
                    </div>
                    <div class="merit-badge-card" data-badge="basketry">
                        <input type="checkbox" id="elective-basketry" onchange="updateProgress()">
                        <label for="elective-basketry">Basketry</label>
                    </div>
                    <div class="merit-badge-card" data-badge="bird study">
                        <input type="checkbox" id="elective-bird-study" onchange="updateProgress()">
                        <label for="elective-bird-study">Bird Study</label>
                    </div>
                    <div class="merit-badge-card" data-badge="bugling">
                        <input type="checkbox" id="elective-bugling" onchange="updateProgress()">
                        <label for="elective-bugling">Bugling</label>
                    </div>
                    <div class="merit-badge-card" data-badge="canoeing">
                        <input type="checkbox" id="elective-canoeing" onchange="updateProgress()">
                        <label for="elective-canoeing">Canoeing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="chemistry">
                        <input type="checkbox" id="elective-chemistry" onchange="updateProgress()">
                        <label for="elective-chemistry">Chemistry</label>
                    </div>
                    <div class="merit-badge-card" data-badge="chess">
                        <input type="checkbox" id="elective-chess" onchange="updateProgress()">
                        <label for="elective-chess">Chess</label>
                    </div>
                    <div class="merit-badge-card" data-badge="climbing">
                        <input type="checkbox" id="elective-climbing" onchange="updateProgress()">
                        <label for="elective-climbing">Climbing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="coin collecting">
                        <input type="checkbox" id="elective-coin-collecting" onchange="updateProgress()">
                        <label for="elective-coin-collecting">Coin Collecting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="collections">
                        <input type="checkbox" id="elective-collections" onchange="updateProgress()">
                        <label for="elective-collections">Collections</label>
                    </div>
                    <div class="merit-badge-card" data-badge="composite materials">
                        <input type="checkbox" id="elective-composite-materials" onchange="updateProgress()">
                        <label for="elective-composite-materials">Composite Materials</label>
                    </div>
                    <div class="merit-badge-card" data-badge="crime prevention">
                        <input type="checkbox" id="elective-crime-prevention" onchange="updateProgress()">
                        <label for="elective-crime-prevention">Crime Prevention</label>
                    </div>
                    <div class="merit-badge-card" data-badge="dentistry">
                        <input type="checkbox" id="elective-dentistry" onchange="updateProgress()">
                        <label for="elective-dentistry">Dentistry</label>
                    </div>
                    <div class="merit-badge-card" data-badge="digital technology">
                        <input type="checkbox" id="elective-digital-technology" onchange="updateProgress()">
                        <label for="elective-digital-technology">Digital Technology</label>
                    </div>
                    <div class="merit-badge-card" data-badge="disabilities awareness">
                        <input type="checkbox" id="elective-disabilities-awareness" onchange="updateProgress()">
                        <label for="elective-disabilities-awareness">Disabilities Awareness</label>
                    </div>
                    <div class="merit-badge-card" data-badge="dog care">
                        <input type="checkbox" id="elective-dog-care" onchange="updateProgress()">
                        <label for="elective-dog-care">Dog Care</label>
                    </div>
                    <div class="merit-badge-card" data-badge="drafting">
                        <input type="checkbox" id="elective-drafting" onchange="updateProgress()">
                        <label for="elective-drafting">Drafting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="electricity">
                        <input type="checkbox" id="elective-electricity" onchange="updateProgress()">
                        <label for="elective-electricity">Electricity</label>
                    </div>
                    <div class="merit-badge-card" data-badge="electronics">
                        <input type="checkbox" id="elective-electronics" onchange="updateProgress()">
                        <label for="elective-electronics">Electronics</label>
                    </div>
                    <div class="merit-badge-card" data-badge="energy">
                        <input type="checkbox" id="elective-energy" onchange="updateProgress()">
                        <label for="elective-energy">Energy</label>
                    </div>
                    <div class="merit-badge-card" data-badge="engineering">
                        <input type="checkbox" id="elective-engineering" onchange="updateProgress()">
                        <label for="elective-engineering">Engineering</label>
                    </div>
                    <div class="merit-badge-card" data-badge="entrepreneurship">
                        <input type="checkbox" id="elective-entrepreneurship" onchange="updateProgress()">
                        <label for="elective-entrepreneurship">Entrepreneurship</label>
                    </div>
                    <div class="merit-badge-card" data-badge="farm mechanics">
                        <input type="checkbox" id="elective-farm-mechanics" onchange="updateProgress()">
                        <label for="elective-farm-mechanics">Farm Mechanics</label>
                    </div>
                    <div class="merit-badge-card" data-badge="fingerprinting">
                        <input type="checkbox" id="elective-fingerprinting" onchange="updateProgress()">
                        <label for="elective-fingerprinting">Fingerprinting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="fire safety">
                        <input type="checkbox" id="elective-fire-safety" onchange="updateProgress()">
                        <label for="elective-fire-safety">Fire Safety</label>
                    </div>
                    <div class="merit-badge-card" data-badge="fish and wildlife management">
                        <input type="checkbox" id="elective-fish-and-wildlife-management" onchange="updateProgress()">
                        <label for="elective-fish-and-wildlife-management">Fish and Wildlife Management</label>
                    </div>
                    <div class="merit-badge-card" data-badge="fishing">
                        <input type="checkbox" id="elective-fishing" onchange="updateProgress()">
                        <label for="elective-fishing">Fishing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="fly fishing">
                        <input type="checkbox" id="elective-fly-fishing" onchange="updateProgress()">
                        <label for="elective-fly-fishing">Fly Fishing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="forestry">
                        <input type="checkbox" id="elective-forestry" onchange="updateProgress()">
                        <label for="elective-forestry">Forestry</label>
                    </div>
                    <div class="merit-badge-card" data-badge="game design">
                        <input type="checkbox" id="elective-game-design" onchange="updateProgress()">
                        <label for="elective-game-design">Game Design</label>
                    </div>
                    <div class="merit-badge-card" data-badge="gardening">
                        <input type="checkbox" id="elective-gardening" onchange="updateProgress()">
                        <label for="elective-gardening">Gardening</label>
                    </div>
                    <div class="merit-badge-card" data-badge="genealogy">
                        <input type="checkbox" id="elective-genealogy" onchange="updateProgress()">
                        <label for="elective-genealogy">Genealogy</label>
                    </div>
                    <div class="merit-badge-card" data-badge="geology">
                        <input type="checkbox" id="elective-geology" onchange="updateProgress()">
                        <label for="elective-geology">Geology</label>
                    </div>
                    <div class="merit-badge-card" data-badge="golf">
                        <input type="checkbox" id="elective-golf" onchange="updateProgress()">
                        <label for="elective-golf">Golf</label>
                    </div>
                    <div class="merit-badge-card" data-badge="graphic arts">
                        <input type="checkbox" id="elective-graphic-arts" onchange="updateProgress()">
                        <label for="elective-graphic-arts">Graphic Arts</label>
                    </div>
                    <div class="merit-badge-card" data-badge="home repairs">
                        <input type="checkbox" id="elective-home-repairs" onchange="updateProgress()">
                        <label for="elective-home-repairs">Home Repairs</label>
                    </div>
                    <div class="merit-badge-card" data-badge="horsemanship">
                        <input type="checkbox" id="elective-horsemanship" onchange="updateProgress()">
                        <label for="elective-horsemanship">Horsemanship</label>
                    </div>
                    <div class="merit-badge-card" data-badge="indian lore">
                        <input type="checkbox" id="elective-indian-lore" onchange="updateProgress()">
                        <label for="elective-indian-lore">Indian Lore</label>
                    </div>
                    <div class="merit-badge-card" data-badge="insect study">
                        <input type="checkbox" id="elective-insect-study" onchange="updateProgress()">
                        <label for="elective-insect-study">Insect Study</label>
                    </div>
                    <div class="merit-badge-card" data-badge="inventing">
                        <input type="checkbox" id="elective-inventing" onchange="updateProgress()">
                        <label for="elective-inventing">Inventing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="journalism">
                        <input type="checkbox" id="elective-journalism" onchange="updateProgress()">
                        <label for="elective-journalism">Journalism</label>
                    </div>
                    <div class="merit-badge-card" data-badge="kayaking">
                        <input type="checkbox" id="elective-kayaking" onchange="updateProgress()">
                        <label for="elective-kayaking">Kayaking</label>
                    </div>
                    <div class="merit-badge-card" data-badge="landscape architecture">
                        <input type="checkbox" id="elective-landscape-architecture" onchange="updateProgress()">
                        <label for="elective-landscape-architecture">Landscape Architecture</label>
                    </div>
                    <div class="merit-badge-card" data-badge="law">
                        <input type="checkbox" id="elective-law" onchange="updateProgress()">
                        <label for="elective-law">Law</label>
                    </div>
                    <div class="merit-badge-card" data-badge="leatherwork">
                        <input type="checkbox" id="elective-leatherwork" onchange="updateProgress()">
                        <label for="elective-leatherwork">Leatherwork</label>
                    </div>
                    <div class="merit-badge-card" data-badge="mammal study">
                        <input type="checkbox" id="elective-mammal-study" onchange="updateProgress()">
                        <label for="elective-mammal-study">Mammal Study</label>
                    </div>
                    <div class="merit-badge-card" data-badge="medicine">
                        <input type="checkbox" id="elective-medicine" onchange="updateProgress()">
                        <label for="elective-medicine">Medicine</label>
                    </div>
                    <div class="merit-badge-card" data-badge="metalwork">
                        <input type="checkbox" id="elective-metalwork" onchange="updateProgress()">
                        <label for="elective-metalwork">Metalwork</label>
                    </div>
                    <div class="merit-badge-card" data-badge="mining">
                        <input type="checkbox" id="elective-mining" onchange="updateProgress()">
                        <label for="elective-mining">Mining</label>
                    </div>
                    <div class="merit-badge-card" data-badge="model design and building">
                        <input type="checkbox" id="elective-model-design-and-building" onchange="updateProgress()">
                        <label for="elective-model-design-and-building">Model Design and Building</label>
                    </div>
                    <div class="merit-badge-card" data-badge="motorboating">
                        <input type="checkbox" id="elective-motorboating" onchange="updateProgress()">
                        <label for="elective-motorboating">Motorboating</label>
                    </div>
                    <div class="merit-badge-card" data-badge="moviemaking">
                        <input type="checkbox" id="elective-moviemaking" onchange="updateProgress()">
                        <label for="elective-moviemaking">Moviemaking</label>
                    </div>
                    <div class="merit-badge-card" data-badge="music">
                        <input type="checkbox" id="elective-music" onchange="updateProgress()">
                        <label for="elective-music">Music</label>
                    </div>
                    <div class="merit-badge-card" data-badge="nature">
                        <input type="checkbox" id="elective-nature" onchange="updateProgress()">
                        <label for="elective-nature">Nature</label>
                    </div>
                    <div class="merit-badge-card" data-badge="nuclear science">
                        <input type="checkbox" id="elective-nuclear-science" onchange="updateProgress()">
                        <label for="elective-nuclear-science">Nuclear Science</label>
                    </div>
                    <div class="merit-badge-card" data-badge="oceanography">
                        <input type="checkbox" id="elective-oceanography" onchange="updateProgress()">
                        <label for="elective-oceanography">Oceanography</label>
                    </div>
                    <div class="merit-badge-card" data-badge="orienteering">
                        <input type="checkbox" id="elective-orienteering" onchange="updateProgress()">
                        <label for="elective-orienteering">Orienteering</label>
                    </div>
                    <div class="merit-badge-card" data-badge="painting">
                        <input type="checkbox" id="elective-painting" onchange="updateProgress()">
                        <label for="elective-painting">Painting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="pathfinder">
                        <input type="checkbox" id="elective-pathfinder" onchange="updateProgress()">
                        <label for="elective-pathfinder">Pathfinder</label>
                    </div>
                    <div class="merit-badge-card" data-badge="personal wellness">
                        <input type="checkbox" id="elective-personal-wellness" onchange="updateProgress()">
                        <label for="elective-personal-wellness">Personal Wellness</label>
                    </div>
                    <div class="merit-badge-card" data-badge="pets">
                        <input type="checkbox" id="elective-pets" onchange="updateProgress()">
                        <label for="elective-pets">Pets</label>
                    </div>
                    <div class="merit-badge-card" data-badge="photography">
                        <input type="checkbox" id="elective-photography" onchange="updateProgress()">
                        <label for="elective-photography">Photography</label>
                    </div>
                    <div class="merit-badge-card" data-badge="pioneering">
                        <input type="checkbox" id="elective-pioneering" onchange="updateProgress()">
                        <label for="elective-pioneering">Pioneering</label>
                    </div>
                    <div class="merit-badge-card" data-badge="plant science">
                        <input type="checkbox" id="elective-plant-science" onchange="updateProgress()">
                        <label for="elective-plant-science">Plant Science</label>
                    </div>
                    <div class="merit-badge-card" data-badge="plumbing">
                        <input type="checkbox" id="elective-plumbing" onchange="updateProgress()">
                        <label for="elective-plumbing">Plumbing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="pottery">
                        <input type="checkbox" id="elective-pottery" onchange="updateProgress()">
                        <label for="elective-pottery">Pottery</label>
                    </div>
                    <div class="merit-badge-card" data-badge="programming">
                        <input type="checkbox" id="elective-programming" onchange="updateProgress()">
                        <label for="elective-programming">Programming</label>
                    </div>
                    <div class="merit-badge-card" data-badge="public health">
                        <input type="checkbox" id="elective-public-health" onchange="updateProgress()">
                        <label for="elective-public-health">Public Health</label>
                    </div>
                    <div class="merit-badge-card" data-badge="public speaking">
                        <input type="checkbox" id="elective-public-speaking" onchange="updateProgress()">
                        <label for="elective-public-speaking">Public Speaking</label>
                    </div>
                    <div class="merit-badge-card" data-badge="pulp and paper">
                        <input type="checkbox" id="elective-pulp-and-paper" onchange="updateProgress()">
                        <label for="elective-pulp-and-paper">Pulp and Paper</label>
                    </div>
                    <div class="merit-badge-card" data-badge="radio">
                        <input type="checkbox" id="elective-radio" onchange="updateProgress()">
                        <label for="elective-radio">Radio</label>
                    </div>
                    <div class="merit-badge-card" data-badge="railroading">
                        <input type="checkbox" id="elective-railroading" onchange="updateProgress()">
                        <label for="elective-railroading">Railroading</label>
                    </div>
                    <div class="merit-badge-card" data-badge="reading">
                        <input type="checkbox" id="elective-reading" onchange="updateProgress()">
                        <label for="elective-reading">Reading</label>
                    </div>
                    <div class="merit-badge-card" data-badge="reptile and amphibian study">
                        <input type="checkbox" id="elective-reptile-and-amphibian-study" onchange="updateProgress()">
                        <label for="elective-reptile-and-amphibian-study">Reptile and Amphibian Study</label>
                    </div>
                    <div class="merit-badge-card" data-badge="rifle shooting">
                        <input type="checkbox" id="elective-rifle-shooting" onchange="updateProgress()">
                        <label for="elective-rifle-shooting">Rifle Shooting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="robotics">
                        <input type="checkbox" id="elective-robotics" onchange="updateProgress()">
                        <label for="elective-robotics">Robotics</label>
                    </div>
                    <div class="merit-badge-card" data-badge="rowing">
                        <input type="checkbox" id="elective-rowing" onchange="updateProgress()">
                        <label for="elective-rowing">Rowing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="safety">
                        <input type="checkbox" id="elective-safety" onchange="updateProgress()">
                        <label for="elective-safety">Safety</label>
                    </div>
                    <div class="merit-badge-card" data-badge="salesmanship">
                        <input type="checkbox" id="elective-salesmanship" onchange="updateProgress()">
                        <label for="elective-salesmanship">Salesmanship</label>
                    </div>
                    <div class="merit-badge-card" data-badge="scouting heritage">
                        <input type="checkbox" id="elective-scouting-heritage" onchange="updateProgress()">
                        <label for="elective-scouting-heritage">Scouting Heritage</label>
                    </div>
                    <div class="merit-badge-card" data-badge="scuba diving">
                        <input type="checkbox" id="elective-scuba-diving" onchange="updateProgress()">
                        <label for="elective-scuba-diving">Scuba Diving</label>
                    </div>
                    <div class="merit-badge-card" data-badge="sculpture">
                        <input type="checkbox" id="elective-sculpture" onchange="updateProgress()">
                        <label for="elective-sculpture">Sculpture</label>
                    </div>
                    <div class="merit-badge-card" data-badge="search and rescue">
                        <input type="checkbox" id="elective-search-and-rescue" onchange="updateProgress()">
                        <label for="elective-search-and-rescue">Search and Rescue</label>
                    </div>
                    <div class="merit-badge-card" data-badge="shotgun shooting">
                        <input type="checkbox" id="elective-shotgun-shooting" onchange="updateProgress()">
                        <label for="elective-shotgun-shooting">Shotgun Shooting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="signs, signals, and codes">
                        <input type="checkbox" id="elective-signs-signals-and-codes" onchange="updateProgress()">
                        <label for="elective-signs-signals-and-codes">Signs, Signals, and Codes</label>
                    </div>
                    <div class="merit-badge-card" data-badge="skating">
                        <input type="checkbox" id="elective-skating" onchange="updateProgress()">
                        <label for="elective-skating">Skating</label>
                    </div>
                    <div class="merit-badge-card" data-badge="small-boat sailing">
                        <input type="checkbox" id="elective-small-boat-sailing" onchange="updateProgress()">
                        <label for="elective-small-boat-sailing">Small-Boat Sailing</label>
                    </div>
                    <div class="merit-badge-card" data-badge="snow sports">
                        <input type="checkbox" id="elective-snow-sports" onchange="updateProgress()">
                        <label for="elective-snow-sports">Snow Sports</label>
                    </div>
                    <div class="merit-badge-card" data-badge="soil and water conservation">
                        <input type="checkbox" id="elective-soil-and-water-conservation" onchange="updateProgress()">
                        <label for="elective-soil-and-water-conservation">Soil and Water Conservation</label>
                    </div>
                    <div class="merit-badge-card" data-badge="space exploration">
                        <input type="checkbox" id="elective-space-exploration" onchange="updateProgress()">
                        <label for="elective-space-exploration">Space Exploration</label>
                    </div>
                    <div class="merit-badge-card" data-badge="sports">
                        <input type="checkbox" id="elective-sports" onchange="updateProgress()">
                        <label for="elective-sports">Sports</label>
                    </div>
                    <div class="merit-badge-card" data-badge="stamp collecting">
                        <input type="checkbox" id="elective-stamp-collecting" onchange="updateProgress()">
                        <label for="elective-stamp-collecting">Stamp Collecting</label>
                    </div>
                    <div class="merit-badge-card" data-badge="surveying">
                        <input type="checkbox" id="elective-surveying" onchange="updateProgress()">
                        <label for="elective-surveying">Surveying</label>
                    </div>
                    <div class="merit-badge-card" data-badge="textile">
                        <input type="checkbox" id="elective-textile" onchange="updateProgress()">
                        <label for="elective-textile">Textile</label>
                    </div>
                    <div class="merit-badge-card" data-badge="theater">
                        <input type="checkbox" id="elective-theater" onchange="updateProgress()">
                        <label for="elective-theater">Theater</label>
                    </div>
                    <div class="merit-badge-card" data-badge="traffic safety">
                        <input type="checkbox" id="elective-traffic-safety" onchange="updateProgress()">
                        <label for="elective-traffic-safety">Traffic Safety</label>
                    </div>
                    <div class="merit-badge-card" data-badge="truck transportation">
                        <input type="checkbox" id="elective-truck-transportation" onchange="updateProgress()">
                        <label for="elective-truck-transportation">Truck Transportation</label>
                    </div>
                    <div class="merit-badge-card" data-badge="veterinary medicine">
                        <input type="checkbox" id="elective-veterinary-medicine" onchange="updateProgress()">
                        <label for="elective-veterinary-medicine">Veterinary Medicine</label>
                    </div>
                    <div class="merit-badge-card" data-badge="water sports">
                        <input type="checkbox" id="elective-water-sports" onchange="updateProgress()">
                        <label for="elective-water-sports">Water Sports</label>
                    </div>
                    <div class="merit-badge-card" data-badge="weather">
                        <input type="checkbox" id="elective-weather" onchange="updateProgress()">
                        <label for="elective-weather">Weather</label>
                    </div>
                    <div class="merit-badge-card" data-badge="welding">
                        <input type="checkbox" id="elective-welding" onchange="updateProgress()">
                        <label for="elective-welding">Welding</label>
                    </div>
                    <div class="merit-badge-card" data-badge="whitewater">
                        <input type="checkbox" id="elective-whitewater" onchange="updateProgress()">
                        <label for="elective-whitewater">Whitewater</label>
                    </div>
                    <div class="merit-badge-card" data-badge="wilderness survival">
                        <input type="checkbox" id="elective-wilderness-survival" onchange="updateProgress()">
                        <label for="elective-wilderness-survival">Wilderness Survival</label>
                    </div>
                    <div class="merit-badge-card" data-badge="wood carving">
                        <input type="checkbox" id="elective-wood-carving" onchange="updateProgress()">
                        <label for="elective-wood-carving">Wood Carving</label>
                    </div>
                    <div class="merit-badge-card" data-badge="woodwork">
                        <input type="checkbox" id="elective-woodwork" onchange="updateProgress()">
                        <label for="elective-woodwork">Woodwork</label>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script>
        function loadPhoto(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profile-photo').innerHTML = `<img src="${e.target.result}" alt="Photo">`;
                    localStorage.setItem('eagleTrackerAnnalisePhoto', e.target.result);
                };
                reader.readAsDataURL(file);
            }
        }

        function calculateAge() {
            const dob = document.getElementById('dob').value;
            if (!dob) { alert('Please enter date of birth'); return; }
            const birthDate = new Date(dob);
            const eighteenth = new Date(birthDate);
            eighteenth.setFullYear(birthDate.getFullYear() + 18);
            const today = new Date();
            const diffDays = Math.ceil((eighteenth - today) / (1000 * 60 * 60 * 24));
            const countdown = document.getElementById('countdown');
            if (diffDays > 0) {
                countdown.textContent = `${diffDays} days until 18th birthday (${eighteenth.toLocaleDateString()})`;
                countdown.style.color = '#077840';
            } else {
                countdown.textContent = '18th birthday has passed';
                countdown.style.color = '#e74c3c';
            }
        }

        function calculateEnd(prefix, days) {
            const startDate = document.getElementById(`${prefix}-start`).value;
            if (!startDate) return;
            const start = new Date(startDate);
            const end = new Date(start);
            end.setDate(start.getDate() + days);
            document.getElementById(`${prefix}-end`).textContent = `End: ${end.toLocaleDateString()} (${days} days)`;
        }

        function calculateLifeEnd() {
            const lifeDate = document.getElementById('life-date').value;
            if (!lifeDate) return;
            const start = new Date(lifeDate);
            const end = new Date(start);
            end.setMonth(start.getMonth() + 6);
            document.getElementById('life-end').textContent = `Eligible: ${end.toLocaleDateString()} (6 months)`;
        }

        function updateProgress() {
            let total = 27; // 6 rank + 14 required + 7 elective
            let completed = 0;

            // Rank requirements
            ['life-6months', 'scout-oath', 'references', 'service-project', 'scoutmaster-conf', 'board-review'].forEach(id => {
                if (document.getElementById(id).checked) completed++;
            });

            // Required merit badges
            ['mb-personal-fitness', 'mb-family-life', 'mb-camping', 'mb-first-aid', 'mb-cit-comm', 
             'mb-cit-nation', 'mb-cit-society', 'mb-cit-world', 'mb-communication', 'mb-cooking',
             'mb-emerg-life', 'mb-env-sust', 'mb-pers-mgmt', 'mb-swim-hike-cycle'].forEach(id => {
                if (document.getElementById(id).checked) completed++;
            });

            // Elective merit badges
            let electiveCount = 0;
            document.querySelectorAll('#elective-grid input[type="checkbox"]:checked').forEach(() => {
                electiveCount++;
                if (electiveCount <= 7) completed++;
            });

            document.getElementById('elective-counter').textContent = `${electiveCount} of 7 elective badges earned`;

            // Update camping progress
            const nights = parseInt(document.getElementById('camping-nights').value) || 0;
            document.getElementById('camping-progress').textContent = `${nights}/20 nights (${Math.round(nights/20*100)}%)`;

            const percentage = Math.round((completed / total) * 100);
            const bar = document.getElementById('overall-progress');
            bar.style.width = percentage + '%';
            bar.textContent = percentage + '%';

            document.querySelectorAll('.merit-badge-card').forEach(card => {
                const cb = card.querySelector('input[type="checkbox"]');
                if (cb && cb.checked) {
                    card.classList.add('completed');
                } else {
                    card.classList.remove('completed');
                }
            });
        }

        function filterBadges() {
            const search = document.getElementById('search-box').value.toLowerCase();
            document.querySelectorAll('#elective-grid .merit-badge-card').forEach(card => {
                const text = card.querySelector('label').textContent.toLowerCase();
                card.style.display = text.includes(search) ? 'flex' : 'none';
            });
        }

        function saveProgress() {
            const data = {
                dob: document.getElementById('dob').value,
                lifeDate: document.getElementById('life-date').value,
                pfStart: document.getElementById('pf-start').value,
                flStart: document.getElementById('fl-start').value,
                campingNights: document.getElementById('camping-nights').value,
                checkboxes: {}
            };
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                data.checkboxes[cb.id] = cb.checked;
            });
            localStorage.setItem('eagleTrackerAnnalise', JSON.stringify(data));
            alert('Progress saved!');
        }

        function loadProgress() {
            const saved = localStorage.getItem('eagleTrackerAnnalise');
            if (!saved) { alert('No saved progress'); return; }
            const data = JSON.parse(saved);
            document.getElementById('dob').value = data.dob || '';
            document.getElementById('life-date').value = data.lifeDate || '';
            document.getElementById('pf-start').value = data.pfStart || '';
            document.getElementById('fl-start').value = data.flStart || '';
            document.getElementById('camping-nights').value = data.campingNights || 0;
            Object.keys(data.checkboxes).forEach(id => {
                const cb = document.getElementById(id);
                if (cb) cb.checked = data.checkboxes[id];
            });
            const savedPhoto = localStorage.getItem('eagleTrackerAnnalisePhoto');
            if (savedPhoto) {
                document.getElementById('profile-photo').innerHTML = `<img src="${savedPhoto}" alt="Photo">`;
            }
            calculateAge();
            calculateLifeEnd();
            calculateEnd('pf', 84);
            calculateEnd('fl', 90);
            updateProgress();
            alert('Progress loaded!');
        }

        window.addEventListener('load', function() {
            const savedPhoto = localStorage.getItem('eagleTrackerAnnalisePhoto');
            if (savedPhoto) {
                document.getElementById('profile-photo').innerHTML = `<img src="${savedPhoto}" alt="Photo">`;
            }
            updateProgress();
        });

        setInterval(() => {
            const dob = document.getElementById('dob').value;
            if (dob) saveProgress();
        }, 30000);
    </script>
</body>
</html>
